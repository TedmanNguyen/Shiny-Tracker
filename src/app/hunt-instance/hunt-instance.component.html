<div class="hunt-wrapper">
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <div class="hunt-container">
    <div class="selector-group">
      <p class="choose-game">Choose a game:</p>
      <select class="selector" (change)="onGameChange($event)">
        <option value="">---</option>
        <option *ngFor="let game of gameList" [value]="game">
          {{ game }}
        </option>
      </select>
    </div>
    <div class="selector-group">
      <p class="choose-game">Choose a method:</p>
      <select
        class="selector"
        [disabled]="!generation"
        (change)="onMethodChange($event)"
      >
        <option value="">---</option>
        <option *ngFor="let method of methodList" [value]="method">
          {{ method }}
        </option>
      </select>
    </div>
    <div class="selector-group">
      <p class="choose-game">Choose a pokemon:</p>
      <input 
        type="text" 
        id="search-bar" 
        [disabled]="!generation"
        placeholder="Search for a pokemon" 
        [(ngModel)]="pokemonSearchTerm"
        (input)="onPokemonChange($event)"
        
      /> 
      <p *ngIf="errorStatus === 404" class="error-message">Pokemon not found. Please try again.</p>
      <div>
        <img *ngIf="!spriteLoadError" [src]="spriteUrl" alt="pokemon sprite" (error)="onSpriteError()" />
        <img *ngIf="!shinySpriteLoadError" [src]="spriteShinyUrl" alt="shiny pokemon sprite" (error)="onShinySpriteError()" />
      </div>
    </div>
  </div>
  <button
    class="start-button"
    (click)="onStartHunt($event)"
    [disabled]="!game || !method || !pokemon"
  >
    START HUNT
  </button>
</div>
